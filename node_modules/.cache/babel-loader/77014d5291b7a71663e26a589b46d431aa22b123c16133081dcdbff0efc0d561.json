{"ast":null,"code":"import axios from 'axios';\nimport { toast } from 'react-toastify';\nconst apiCall = async ({\n  endpoint,\n  method,\n  payload = {},\n  isAuthenticated = false\n}) => {\n  const baseURL = process.env.REACT_APP_API_URL;\n  const token = isAuthenticated ? localStorage.getItem('token') : null;\n  try {\n    const config = {\n      method: method.toUpperCase(),\n      url: `${baseURL}${endpoint}`,\n      headers: {\n        'Content-Type': 'application/json',\n        ...(isAuthenticated && {\n          Authorization: `Bearer ${token}`\n        })\n      },\n      ...(method === 'GET' ? {\n        params: payload\n      } : {\n        data: payload\n      })\n    };\n    const response = await axios(config);\n    return response.data;\n  } catch (error) {\n    var _error$response, _error$response2, _error$response3;\n    toast.error(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n    console.error('API Error:', (error === null || error === void 0 ? void 0 : (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || error.message);\n    throw (error === null || error === void 0 ? void 0 : (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data) || error;\n  }\n};\nexport default apiCall;","map":{"version":3,"names":["axios","toast","apiCall","endpoint","method","payload","isAuthenticated","baseURL","process","env","REACT_APP_API_URL","token","localStorage","getItem","config","toUpperCase","url","headers","Authorization","params","data","response","error","_error$response","_error$response2","_error$response3","console","message"],"sources":["C:/Users/bexruz.mullabayev/Desktop/parking-reservation-ui/src/Shared/Services/apiCalls.js"],"sourcesContent":["import axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst apiCall = async ({ endpoint, method, payload = {}, isAuthenticated = false }) => {\r\n    const baseURL = process.env.REACT_APP_API_URL\r\n    const token = isAuthenticated ? localStorage.getItem('token') : null;\r\n\r\n    try {\r\n        const config = {\r\n            method: method.toUpperCase(),\r\n            url: `${baseURL}${endpoint}`,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                ...(isAuthenticated && { Authorization: `Bearer ${token}` }),\r\n            },\r\n            ...(method === 'GET' ? { params: payload } : { data: payload }),\r\n        };\r\n\r\n        const response = await axios(config);\r\n        return response.data;\r\n    } catch (error) {\r\n        toast.error(error?.response?.data)\r\n        console.error('API Error:', error?.response?.data || error.message);\r\n        throw error?.response?.data || error;\r\n    }\r\n};\r\n\r\nexport default apiCall;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,gBAAgB;AAEtC,MAAMC,OAAO,GAAG,MAAAA,CAAO;EAAEC,QAAQ;EAAEC,MAAM;EAAEC,OAAO,GAAG,CAAC,CAAC;EAAEC,eAAe,GAAG;AAAM,CAAC,KAAK;EACnF,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;EAC7C,MAAMC,KAAK,GAAGL,eAAe,GAAGM,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,GAAG,IAAI;EAEpE,IAAI;IACA,MAAMC,MAAM,GAAG;MACXV,MAAM,EAAEA,MAAM,CAACW,WAAW,CAAC,CAAC;MAC5BC,GAAG,EAAE,GAAGT,OAAO,GAAGJ,QAAQ,EAAE;MAC5Bc,OAAO,EAAE;QACL,cAAc,EAAE,kBAAkB;QAClC,IAAIX,eAAe,IAAI;UAAEY,aAAa,EAAE,UAAUP,KAAK;QAAG,CAAC;MAC/D,CAAC;MACD,IAAIP,MAAM,KAAK,KAAK,GAAG;QAAEe,MAAM,EAAEd;MAAQ,CAAC,GAAG;QAAEe,IAAI,EAAEf;MAAQ,CAAC;IAClE,CAAC;IAED,MAAMgB,QAAQ,GAAG,MAAMrB,KAAK,CAACc,MAAM,CAAC;IACpC,OAAOO,QAAQ,CAACD,IAAI;EACxB,CAAC,CAAC,OAAOE,KAAK,EAAE;IAAA,IAAAC,eAAA,EAAAC,gBAAA,EAAAC,gBAAA;IACZxB,KAAK,CAACqB,KAAK,CAACA,KAAK,aAALA,KAAK,wBAAAC,eAAA,GAALD,KAAK,CAAED,QAAQ,cAAAE,eAAA,uBAAfA,eAAA,CAAiBH,IAAI,CAAC;IAClCM,OAAO,CAACJ,KAAK,CAAC,YAAY,EAAE,CAAAA,KAAK,aAALA,KAAK,wBAAAE,gBAAA,GAALF,KAAK,CAAED,QAAQ,cAAAG,gBAAA,uBAAfA,gBAAA,CAAiBJ,IAAI,KAAIE,KAAK,CAACK,OAAO,CAAC;IACnE,MAAM,CAAAL,KAAK,aAALA,KAAK,wBAAAG,gBAAA,GAALH,KAAK,CAAED,QAAQ,cAAAI,gBAAA,uBAAfA,gBAAA,CAAiBL,IAAI,KAAIE,KAAK;EACxC;AACJ,CAAC;AAED,eAAepB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}